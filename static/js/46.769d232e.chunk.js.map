{"version":3,"file":"static/js/46.769d232e.chunk.js","mappings":"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","sources":["components/Reviews/ReviewsStyled.jsx","components/Reviews/Reviews.jsx","services/api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Author = styled.h4`\n  margin-top: 10px;\n  margin-bottom: 10px;\n`;\nexport const List = styled.ul`\n  margin-top: 20px;\n  padding-left: 10px;\n`;\nexport const ListItem = styled.li`\n  /* padding-left: 30px; */\n`;\nexport const Paragraph = styled.p`\n  text-indent: 30px;\n  text-align: justify;\n  line-height: 1.2rem;\n  hyphens: auto;\n  /* word-break: break-word; */\n  padding-top: 10px;\n  padding-bottom: 20px;\n  padding-left: 30px;\n  padding-right: 30px;\n`;\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { fetchMovies } from 'services/api';\nimport { Author, List, ListItem, Paragraph } from './ReviewsStyled';\nimport { Loader } from 'components/Loader';\n\nconst Reviews = () => {\n  const [status, setStatus] = useState('idle');\n  //State machine:\n  //idle - простой,\n  //pending - добавляется,\n  //resolved - успешно,\n  //rejected - отклонено\n  const [movieReviews, setMovieReviews] = useState(null);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    setStatus('pending');\n    const f = async () => {\n      try {\n        const resp = await fetchMovies('movie/' + movieId + '/reviews');\n        // if (resp) console.log(resp);\n        if (resp.total_results > 0) {\n          setMovieReviews(resp.results);\n          setStatus('resolved');\n          return;\n        }\n        setMovieReviews(null);\n        setStatus('rejected');\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    f();\n  }, [movieId]);\n  if (status === 'pending') return <Loader />;\n  if (movieReviews) {\n    // console.log(movieReviews);\n    return (\n      <List>\n        {movieReviews.map(review => (\n          <ListItem key={review.id}>\n            <Author>Author: {review.author}</Author>\n            <Paragraph>{review.content}</Paragraph>\n          </ListItem>\n        ))}\n      </List>\n    );\n  }\n  return <p>Sorry. But for this film we have no reviews.</p>;\n};\nexport default Reviews;\n","import axios from 'axios';\n\nconst API_KEY =\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmNjI2NzM2NDE0YjQyOThhMjhhNTBjMWI4ODEzZTlhNiIsInN1YiI6IjY1MjU2Y2UzNDQ3ZjljMDBhZDcxNDZjNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.8rEsMXUCTlrOZG7wX4q7BjxLIzMsf9BEzSeowZL4e8g';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nconst instance = axios.create({\n  baseURL: BASE_URL,\n  params: { language: 'en-US' },\n  headers: {\n    accept: 'application/json',\n    Authorization: 'Bearer ' + API_KEY,\n  },\n});\n\nexport async function fetchMovies(endpoint, parameters = {}) {\n  try {\n    const resp = await instance.get(endpoint, { params: { ...parameters } });\n    return resp.data;\n  } catch (err) {\n    console.log(err);\n  }\n}\n"],"names":["Author","styled","h4","_templateObject","_taggedTemplateLiteral","List","ul","_templateObject2","ListItem","li","_templateObject3","Paragraph","p","_templateObject4","_useState","useState","_useState2","_slicedToArray","status","setStatus","_useState3","_useState4","movieReviews","setMovieReviews","movieId","useParams","useEffect","f","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resp","wrap","_context","prev","next","fetchMovies","sent","total_results","results","abrupt","t0","console","log","stop","apply","arguments","_jsx","Loader","children","map","review","_jsxs","author","content","id","instance","axios","baseURL","params","language","headers","accept","Authorization","_x","_fetchMovies","endpoint","parameters","_args","length","undefined","get","_objectSpread","data"],"sourceRoot":""}