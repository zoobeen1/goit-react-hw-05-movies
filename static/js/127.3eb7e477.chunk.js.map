{"version":3,"file":"static/js/127.3eb7e477.chunk.js","mappings":"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","sources":["components/Searchbar/Searchbar.styled.js","components/Searchbar/Searchbar.jsx","components/Searchbar/index.js","services/api.js"],"sourcesContent":["import styled from 'styled-components';\nexport const SearchbarStyled = styled.div`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\n\nexport const FormStyled = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  /* max-width: 600px; */\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\n\nexport const ButtonStyled = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-image: url('https://www.svgrepo.com/show/19021/search.svg');\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n  //Added\n  &:active {\n    opacity: 0.8;\n  }\n  //Added\n  &:focus {\n    outline: none;\n  }\n`;\n\nexport const ButtonLabelStyled = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n  color: #000;\n`;\n\nexport const InputStyled = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\nexport const List = styled.ul`\n  margin-top: 20px;\n  padding-left: 10px;\n  padding-bottom: 20px;\n`;\nexport const ListItem = styled.li`\n  padding-bottom: 5px;\n`;\n","import { toast } from 'react-toastify';\nimport { useSearchParams, useLocation, NavLink } from 'react-router-dom';\nimport { fetchMovies } from 'services/api';\nimport {\n  FormStyled,\n  InputStyled,\n  ButtonStyled,\n  ButtonLabelStyled,\n  ListItem,\n  List,\n} from './Searchbar.styled';\nimport { useState } from 'react';\nimport { Loader } from 'components/Loader';\nimport { useEffect } from 'react';\n\nfunction Searchbar() {\n  const [status, setStatus] = useState('idle');\n  //State machine:\n  //idle - простой,\n  //pending - добавляется,\n  //resolved - успешно,\n  //rejected - отклонено\n  const [movies, setMovies] = useState(null);\n  //SearchParameters\n  const [searchParams, setSearchParams] = useSearchParams({ searchQuery: '' });\n  const searchQuery = searchParams.get('searchQuery');\n  const location = useLocation();\n\n  // Вызывается при отправке формы\n  // очищает поле ввода\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    if (searchQuery.trim() === '') {\n      toast.error('Введите запрос прежде чем отправлять!!!');\n      return;\n    }\n    fetch();\n  }\n  // Вызывается при изменении поля ввода\n  // изменяет searchParameters - паттерн \"Контролируемый элемент\"\n  const handleChange = e => {\n    setSearchParams({ searchQuery: e.currentTarget.value.toLowerCase() });\n  };\n\n  useEffect(() => {\n    const foo = async () => {\n      setStatus('pending');\n      try {\n        const resp = await fetchMovies('search/movie', { query: searchQuery });\n        if (resp) {\n          setStatus('resolved');\n          setMovies(resp.results);\n          return;\n        }\n      } catch (error) {\n        console.log(error);\n        return;\n      }\n    };\n    foo();\n  }, [searchQuery]);\n\n  // *************************************************************************\n  return (\n    <>\n      <FormStyled onSubmit={handleSubmit}>\n        <ButtonStyled type=\"submit\">\n          <ButtonLabelStyled>Search</ButtonLabelStyled>\n        </ButtonStyled>\n        <InputStyled\n          type=\"text\"\n          name=\"search\"\n          autocomplete=\"off\"\n          value={searchQuery}\n          autoFocus\n          placeholder=\"Search films\"\n          onChange={handleChange}\n        />\n      </FormStyled>\n      {status === 'pending' && <Loader />}\n      {status === 'resolved' && (\n        <List>\n          {movies.map(movie => (\n            <ListItem key={movie.id}>\n              <NavLink to={movie.id.toString()} state={{ from: location }}>\n                {movie.title}\n              </NavLink>\n            </ListItem>\n          ))}\n        </List>\n      )}\n    </>\n  );\n}\nexport default Searchbar;\n","import Searchbar from './Searchbar';\nexport default Searchbar;\n","import axios from 'axios';\n\nconst API_KEY =\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmNjI2NzM2NDE0YjQyOThhMjhhNTBjMWI4ODEzZTlhNiIsInN1YiI6IjY1MjU2Y2UzNDQ3ZjljMDBhZDcxNDZjNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.8rEsMXUCTlrOZG7wX4q7BjxLIzMsf9BEzSeowZL4e8g';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nconst instance = axios.create({\n  baseURL: BASE_URL,\n  params: { language: 'en-US' },\n  headers: {\n    accept: 'application/json',\n    Authorization: 'Bearer ' + API_KEY,\n  },\n});\n\nexport async function fetchMovies(endpoint, parameters = {}) {\n  try {\n    const resp = await instance.get(endpoint, { params: { ...parameters } });\n    return resp.data;\n  } catch (err) {\n    console.log(err);\n  }\n}\n"],"names":["FormStyled","styled","div","_templateObject","_taggedTemplateLiteral","form","_templateObject2","ButtonStyled","button","_templateObject3","ButtonLabelStyled","span","_templateObject4","InputStyled","input","_templateObject5","List","ul","_templateObject6","ListItem","li","_templateObject7","_useState","useState","_useState2","_slicedToArray","status","setStatus","_useState3","_useState4","movies","setMovies","_useSearchParams","useSearchParams","searchQuery","_useSearchParams2","searchParams","setSearchParams","get","location","useLocation","useEffect","foo","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resp","wrap","_context","prev","next","fetchMovies","query","sent","results","abrupt","t0","console","log","stop","apply","arguments","_jsxs","_Fragment","children","onSubmit","e","preventDefault","trim","fetch","toast","error","_jsx","type","name","autocomplete","value","autoFocus","placeholder","onChange","currentTarget","toLowerCase","Loader","map","movie","NavLink","to","id","toString","state","from","title","instance","axios","baseURL","params","language","headers","accept","Authorization","_x","_fetchMovies","endpoint","parameters","_args","length","undefined","_objectSpread","data"],"sourceRoot":""}